<html lang="ru" class="no-js"><head><script src="https://js-de.sentry-cdn.com/602cea0de01c346b92d2dee572bb60ac.min.js" crossorigin="anonymous"></script> <script>
	Sentry.init({
		dsn: 'https://602cea0de01c346b92d2dee572bb60ac@o4510568945090560.ingest.de.sentry.io/4510591728222288',
		// Setting this option to true will send default PII data to Sentry.
		// For example, automatic IP address collection on events
		sendDefaultPii: true,
	});
</script>  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã View Transition API, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏"><meta name="author" content="bnd.by"><link href="https://bnd.by/docs/css/using-transition-api/" rel="canonical"><link href="../view-transitions/" rel="prev"><link href="../../react/introducing-rsc-explorer/" rel="next"><link rel="icon" href="../../../logo.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2"><title>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ View Transition API - –Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ</title><link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css"><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script src="https://js-de.sentry-cdn.com/602cea0de01c346b92d2dee572bb60ac.min.js" crossorigin="anonymous"></script><script>
	Sentry.init({
		dsn: 'https://602cea0de01c346b92d2dee572bb60ac@o4510568945090560.ingest.de.sentry.io/4510591728222288',
		// Setting this option to true will send default PII data to Sentry.
		// For example, automatic IP address collection on events
		sendDefaultPii: true,
	});
</script><meta property="og:type" content="website"><meta property="og:title" content="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ View Transition API - –Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ"><meta property="og:description" content="–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã View Transition API, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏"><meta property="og:image" content="https://bnd.by/assets/images/social/docs/css/using-transition-api/index.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta content="https://bnd.by/docs/css/using-transition-api/" property="og:url"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:title" content="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ View Transition API - –Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ"><meta property="twitter:description" content="–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã View Transition API, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏"><meta property="twitter:image" content="https://bnd.by/assets/images/social/docs/css/using-transition-api/index.png"><link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="pink"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#view-transition-api" class="md-skip"> –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="–í–µ—Ä—Ö–Ω–∏–π –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª"> <a href="https://bnd.by" title="–Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ" class="md-header__button md-logo" aria-label="–Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ" data-md-component="logo"> <img src="../../../logo.png" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> –Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ View Transition API </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="pink" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="pink" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ç—ë–º–Ω—É—é —Ç–µ–º—É" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ç—ë–º–Ω—É—é —Ç–µ–º—É" for="__palette_2" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="pink" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–µ–º—É" type="radio" name="__palette" id="__palette_2"> <label class="md-header__button md-icon" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–µ–º—É" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="–ü–æ–∏—Å–∫" placeholder="–ü–æ–∏—Å–∫" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="–ü–æ–∏—Å–∫"> <button type="reset" class="md-search__icon md-icon" title="–û—á–∏—Å—Ç–∏—Ç—å" aria-label="–û—á–∏—Å—Ç–∏—Ç—å" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <nav class="md-tabs" aria-label="–í–∫–ª–∞–¥–∫–∏" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item md-tabs__item--active"> <a href="../../.." class="md-tabs__link"> üè† </a> </li> <li class="md-tabs__item"> <a href="../../../cv/" class="md-tabs__link"> –†–µ–∑—é–º–µ </a> </li> <li class="md-tabs__item"> <a href="../../ai/" class="md-tabs__link"> –î–æ–∫–∏ </a> </li> </ul> </div> </nav> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="https://bnd.by" title="–Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ" class="md-nav__button md-logo" aria-label="–Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ" data-md-component="logo"> <img src="../../../logo.png" alt="logo"> </a> –Æ—Ä–∏–π –ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <a href="../../.." class="md-nav__link"> <span class="md-ellipsis"> üè† </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../../../cv/" class="md-nav__link"> <span class="md-ellipsis"> –†–µ–∑—é–º–µ </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../../ai/" class="md-nav__link"> <span class="md-ellipsis"> –î–æ–∫–∏ </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#_1" class="md-nav__link"> <span class="md-ellipsis"> –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è </span> </a> <nav class="md-nav" aria-label="–ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#_2" class="md-nav__link"> <span class="md-ellipsis"> –û —Å–Ω–∏–º–∫–∞—Ö </span> </a> </li> <li class="md-nav__item"> <a href="#_3" class="md-nav__link"> <span class="md-ellipsis"> –î–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#_4" class="md-nav__link"> <span class="md-ellipsis"> –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è </span> </a> <nav class="md-nav" aria-label="–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#spa" class="md-nav__link"> <span class="md-ellipsis"> –ë–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ SPA </span> </a> </li> <li class="md-nav__item"> <a href="#mpa" class="md-nav__link"> <span class="md-ellipsis"> –ë–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ MPA </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#customizing_your_animations" class="md-nav__link"> <span class="md-ellipsis"> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π </span> </a> </li> <li class="md-nav__item"> <a href="#different_animations_for_different_elements" class="md-nav__link"> <span class="md-ellipsis"> –†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ </span> </a> <nav class="md-nav" aria-label="–†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#view-transition-name" class="md-nav__link"> <span class="md-ellipsis"> –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è view-transition-name </span> </a> </li> <li class="md-nav__item"> <a href="#_5" class="md-nav__link"> <span class="md-ellipsis"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#controlling_view_transitions_with_javascript" class="md-nav__link"> <span class="md-ellipsis"> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å –ø–æ–º–æ—â—å—é JavaScript </span> </a> <nav class="md-nav" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å –ø–æ–º–æ—â—å—é JavaScript"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#spa-javascript" class="md-nav__link"> <span class="md-ellipsis"> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –Ω–∞ JavaScript </span> </a> </li> <li class="md-nav__item"> <a href="#mpa-javascript" class="md-nav__link"> <span class="md-ellipsis"> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (MPA) –Ω–∞ JavaScript </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#_6" class="md-nav__link"> <span class="md-ellipsis"> –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component="content"> <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class="md-post__back"> <div class="md-nav__title md-nav__container"> <a href="../../.." class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> <span class="md-ellipsis"> –ù–∞ –≥–ª–∞–≤–Ω—É—é </span> </a> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class="md-post__title"> <span class="md-ellipsis"> –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ </span> </div> <nav class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <div class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"></path></svg> <time datetime="2025-12-16 00:00:00+00:00" class="md-ellipsis">16 –¥–µ–∫–∞–±—Ä—è 2025‚ÄØ–≥.</time> </div> </li> <li class="md-nav__item"> <div class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"></path></svg> <span class="md-ellipsis"> –í <a href="../">CSS</a></span> </div> </li> <li class="md-nav__item"> <div class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"></path></svg> <span class="md-ellipsis"> –ß–∏—Ç–∞—Ç—å 14 –º–∏–Ω </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class="md-tags"> <span class="md-tag">css</span> <span class="md-tag">js</span> </nav> <div><h1 id="view-transition-api">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ View Transition API<a class="headerlink" href="#view-transition-api" title="Permanent link">¬∂</a></h1> <p>–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API">View Transition API</a>, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏. –ó–¥–µ—Å—å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∫–∞–∫ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è DOM –≤ –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (SPA), —Ç–∞–∫ –∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤ –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (MPA).</p> <h2 id="_1">–ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è<a class="headerlink" href="#_1" title="Permanent link">¬∂</a></h2> <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:</p> <ol> <li> <p>–ü–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –°–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞:</p> <ul> <li> <p>–í —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—É—Ç—ë–º –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–ª–±—ç–∫–∞ –º–µ—Ç–æ–¥—É <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition"><code>document.startViewTransition()</code></a>.</p> </li> <li> <p>–í —Å–ª—É—á–∞–µ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (MPA) –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞—Ü–∏–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∫ –Ω–æ–≤–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É. –ò —Ç–µ–∫—É—â–∏–π, –∏ —Ü–µ–ª–µ–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ (origin) –∏ –≤–∫–ª—é—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ at-–ø—Ä–∞–≤–∏–ª–æ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/At-rules/@view-transition"><code>@view-transition</code></a> –≤ –∏—Ö CSS —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–º <code>navigation</code> —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º <code>auto</code>.</p> </li> </ul> <div class="admonition note"> <p class="admonition-title">–û–±—ä–µ–∫—Ç ViewTransition</p> <p>–ê–∫—Ç–∏–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition">ViewTransition</a> (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –º–µ—Ç–æ–¥–æ–º <code>startViewTransition()</code> –≤ —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA)). –û–±—ä–µ–∫—Ç <code>ViewTransition</code> –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞. –°–º. —Ä–∞–∑–¥–µ–ª <a href="#controlling_view_transitions_with_javascript">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å –ø–æ–º–æ—â—å—é JavaScript</a> –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.</p> </div> </li> <li> <p>–ù–∞ —Ç–µ–∫—É—â–µ–º (—Å—Ç–∞—Ä–æ–º) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ API –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ <strong>—Å–Ω–∏–º–∫–∏</strong> —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/view-transition-name"><code>view-transition-name</code></a>.</p> </li> <li> <p>–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:</p> <ul> <li> <p>–í —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–±—ç–∫, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ <code>startViewTransition()</code>, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é DOM.</p> <p>–ö–æ–≥–¥–∞ –∫–æ–ª–±—ç–∫ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω, –ø—Ä–æ–º–∏—Å <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/updateCallbackDone"><code>ViewTransition.updateCallbackDone</code></a> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM.</p> </li> <li> <p>–í —Å–ª—É—á–∞–µ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (MPA) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –∏ —Ü–µ–ª–µ–≤—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.</p> </li> </ul> </li> <li> <p>API –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç ¬´–∂–∏–≤—ã–µ¬ª —Å–Ω–∏–º–∫–∏ (—Ç–æ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ DOM) –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.</p> <p>–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É, –∏ –ø—Ä–æ–º–∏—Å <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/ready"><code>ViewTransition.ready</code></a> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—É—Å–∫–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π JavaScript-–∞–Ω–∏–º–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π.</p> </li> <li> <p>–°–Ω–∏–º–∫–∏ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–Ω–∏–º–∏—Ä—É—é—Ç—Å—è ¬´–Ω–∞—Ä—É–∂—É¬ª, –∞ —Å–Ω–∏–º–∫–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∏—Ä—É—é—Ç—Å—è ¬´–≤–Ω—É—Ç—Ä—å¬ª. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–Ω–∏–º–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∏—Ä—É—é—Ç—Å—è –æ—Ç <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/opacity"><code>opacity</code></a> 1 –¥–æ 0, –∞ —Å–Ω–∏–º–∫–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è ‚Äî –æ—Ç <code>opacity</code> 0 –¥–æ 1, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–≥–æ –∑–∞—Ç—É—Ö–∞–Ω–∏—è.</p> </li> <li> <p>–ö–æ–≥–¥–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –¥–æ—Å—Ç–∏–≥–∞—é—Ç –∫–æ–Ω–µ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø—Ä–æ–º–∏—Å <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/finished"><code>ViewTransition.finished</code></a> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.</p> </li> </ol> <div class="admonition note"> <p class="admonition-title">–í–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p> <p>–ï—Å–ª–∏ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API">—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</a> –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Ä–∞–≤–Ω–æ <code>hidden</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å–∫—Ä—ã—Ç –æ–∫–Ω–æ–º, –±—Ä–∞—É–∑–µ—Ä —Å–≤—ë—Ä–Ω—É—Ç –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞ –¥—Ä—É–≥–∞—è –≤–∫–ª–∞–¥–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞) –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition"><code>document.startViewTransition()</code></a>, –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.</p> </div> <h3 id="_2">–û —Å–Ω–∏–º–∫–∞—Ö<a class="headerlink" href="#_2" title="Permanent link">¬∂</a></h3> <p>–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–æ–≥–¥–∞ –º—ã –≥–æ–≤–æ—Ä–∏–º –æ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –º—ã –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Ä–º–∏–Ω <em>—Å–Ω–∏–º–æ–∫</em> –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —É –∫–æ—Ç–æ—Ä–æ–π –æ–±—ä—è–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ <code>view-transition-name</code>. –≠—Ç–∏ —Å–µ–∫—Ü–∏–∏ –±—É–¥—É—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥—Ä—É–≥–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ <code>view-transition-name</code>. –•–æ—Ç—è –ø—Ä–æ—Ü–µ—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–Ω–∏–º–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–Ω–∏–º–∫–∞ ‚Äî –æ–¥–∏–Ω —Å—Ç–∞—Ä–æ–≥–æ –∏ –æ–¥–∏–Ω –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI ‚Äî –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–æ–≤–æ ¬´—Å–Ω–∏–º–æ–∫¬ª –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ–π –æ–±–ª–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.</p> <p>–°–Ω–∏–º–æ–∫ —Å—Ç–∞—Ä–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ ¬´–Ω–∞—Ä—É–∂—É¬ª.</p> <p>–°–Ω–∏–º–æ–∫ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å DOM, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –ø–æ–∫–∞ –æ–Ω –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è ¬´–≤–Ω—É—Ç—Ä—å¬ª.</p> <h3 id="_3">–î–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è<a class="headerlink" href="#_3" title="Permanent link">¬∂</a></h3> <p>–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å—Ö–æ–¥—è—â–µ–π –∏ –≤—Ö–æ–¥—è—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ API —Å–æ–∑–¥–∞—ë—Ç –¥–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:</p> <div class="language-text highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a>::view-transition
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>‚îî‚îÄ ::view-transition-group(root)
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>  ‚îî‚îÄ ::view-transition-image-pair(root)
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a>      ‚îú‚îÄ ::view-transition-old(root)
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a>      ‚îî‚îÄ ::view-transition-new(root)
</span></code></pre></div></td></tr></tbody></table></div> <p>–í —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –¥–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ. –í —Å–ª—É—á–∞–µ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (MPA) –¥–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ –≤ —Ü–µ–ª–µ–≤–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.</p> <p>–ù–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —á–∞—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–µ—Ä–µ–≤–∞:</p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition"><code>::view-transition</code></a> ‚Äî —ç—Ç–æ –∫–æ—Ä–µ–Ω—å –æ–≤–µ—Ä–ª–µ—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –≥—Ä—É–ø–ø—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</li> <li> <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-group"><code>::view-transition-group()</code></a> –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–Ω–∏–º–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –ê—Ä–≥—É–º–µ–Ω—Ç <code>root</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–Ω–∏–º–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ —Å–Ω–∏–º–∫—É, —á–µ–π <code>view-transition-name</code> —Ä–∞–≤–µ–Ω <code>root</code>. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ —Å–Ω–∏–º–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/:root"><code>:root</code></a>, —Ç–∞–∫ –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="n">view-transition-name</span><span class="p">:</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–û–¥–Ω–∞–∫–æ –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∞–≤—Ç–æ—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ, –æ—Ç–º–µ–Ω–∏–≤ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–≤ <code>view-transition-name: root</code> –Ω–∞ –¥—Ä—É–≥–æ–π —ç–ª–µ–º–µ–Ω—Ç.</p> </li> <li> <p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-old"><code>::view-transition-old()</code></a> –Ω–∞—Ü–µ–ª–µ–Ω –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–Ω–∏–º–æ–∫ —Å—Ç–∞—Ä–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-new"><code>::view-transition-new()</code></a> ‚Äî –Ω–∞ –∂–∏–≤–æ–π —Å–Ω–∏–º–æ–∫ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û–±–∞ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –∑–∞–º–µ—â–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ <a href="https://hcdev.ru/html/img"><code>img</code></a> –∏–ª–∏ <a href="https://hcdev.ru/html/video"><code>video</code></a>, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Ö –º–æ–∂–Ω–æ —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ç–∞–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤, –∫–∞–∫ <a href="https://hcdev.ru/css/object-fit"><code>object-fit</code></a> –∏ <a href="https://hcdev.ru/css/object-position"><code>object-position</code></a>.</p> </li> </ul> <div class="admonition note"> <p class="admonition-title">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã</p> <p>–ú–æ–∂–Ω–æ –Ω–∞—Ü–µ–ª–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã DOM —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/view-transition-name"><code>view-transition-name</code></a> –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑ –Ω–∏—Ö. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π <code>::view-transition-group()</code>. –°–º. —Ä–∞–∑–¥–µ–ª <a href="#different_animations_for_different_elements">–†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</a> –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞.</p> </div> <div class="admonition note"> <p class="admonition-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π</p> <p>–ö–∞–∫ –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–∞–ª–µ–µ, –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ö–æ–¥—è—â–µ–π –∏ –≤—Ö–æ–¥—è—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–π –Ω—É–∂–Ω–æ –Ω–∞—Ü–µ–ª–∏–≤–∞—Ç—å –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-old"><code>::view-transition-old()</code></a> –∏ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-new"><code>::view-transition-new()</code></a> —Å –≤–∞—à–∏–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.</p> </div> <h2 id="_4">–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è<a class="headerlink" href="#_4" title="Permanent link">¬∂</a></h2> <p>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ —Å–ª—É—á–∞—è—Ö SPA –∏ MPA.</p> <h3 id="spa">–ë–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ SPA<a class="headerlink" href="#spa" title="Permanent link">¬∂</a></h3> <p>SPA –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∫–∞–∫–æ–µ-–ª–∏–±–æ —Å–æ–±—ã—Ç–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∏–∫ –ø–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–µ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞.</p> <p>–ù–∞—à–µ <a href="https://mdn.github.io/dom-examples/view-transitions/spa/">–¥–µ–º–æ View Transitions SPA</a> ‚Äî —ç—Ç–æ –±–∞–∑–æ–≤–∞—è –≥–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –£ –Ω–∞—Å –µ—Å—Ç—å –Ω–∞–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ <a href="https://hcdev.ru/html/a"><code>a</code></a>, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –º–∏–Ω–∏–∞—Ç—é—Ä—ã <a href="https://hcdev.ru/html/img"><code>img</code></a>, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é JavaScript. –¢–∞–∫–∂–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç <a href="https://hcdev.ru/html/figure"><code>figure</code></a>, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π <a href="https://hcdev.ru/html/figcaption"><code>figcaption</code></a> –∏ <code>&lt;img&gt;</code>, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏.</p> <p>–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∏–Ω–∏–∞—Ç—é—Ä—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è <code>displayNewImage()</code> —á–µ—Ä–µ–∑ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition"><code>Document.startViewTransition()</code></a>, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º –ø–æ–¥–ø–∏—Å—å –≤–Ω—É—Ç—Ä–∏ <code>&lt;figure&gt;</code>. –ú—ã –æ–±–µ—Ä–Ω—É–ª–∏ —ç—Ç–æ –≤ —Ñ—É–Ω–∫—Ü–∏—é <code>updateView()</code>, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç View Transition API —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:</p> <div class="language-js highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">updateView</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="c1">// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–∑–Ω–∏—Ü—É –≤ —Ç–æ–º, –Ω–∞ &lt;a&gt; –∏–ª–∏ –Ω–∞ &lt;img&gt; —Å—Ä–∞–±–æ—Ç–∞–ª–æ —Å–æ–±—ã—Ç–∏–µ</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetIdentifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">firstChild</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">displayNewImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">mainSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">targetIdentifier</span><span class="p">.</span><span class="nx">src</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'_th.jpg'</span><span class="p">)[</span><span class="mf">0</span><span class="p">]</span><span class="si">}</span><span class="sb">.jpg`</span><span class="p">;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">        </span><span class="nx">galleryImg</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mainSrc</span><span class="p">;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">        </span><span class="nx">galleryCaption</span><span class="p">.</span><span class="nx">textContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">targetIdentifier</span><span class="p">.</span><span class="nx">alt</span><span class="p">;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="c1">// –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö View Transitions:</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">startViewTransition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">        </span><span class="nx">displayNewImage</span><span class="p">();</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16"></a>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="w">    </span><span class="c1">// –° View Transitions:</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">startViewTransition</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">displayNewImage</span><span class="p">());</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–≠—Ç–æ–≥–æ –∫–æ–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã –ø–æ–∫–∞–∂—É—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –∏ –ø–æ–¥–ø–∏—Å—è–º –∫–∞–∫ –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ (–ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –í –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∫–æ–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –±–µ–∑ –∫—Ä–∞—Å–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏.</p> <h3 id="mpa">–ë–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ MPA<a class="headerlink" href="#mpa" title="Permanent link">¬∂</a></h3> <p>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ (MPA) –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å –µ—â—ë –ø—Ä–æ—â–µ, —á–µ–º –¥–ª—è SPA. JavaScript –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π —Å —Ç–æ–≥–æ –∂–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –∞ –Ω–µ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–º JavaScript –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º DOM. –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –±–∞–∑–æ–≤—ã–π MPA-–ø–µ—Ä–µ—Ö–æ–¥, –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å at-–ø—Ä–∞–≤–∏–ª–æ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/At-rules/@view-transition"><code>@view-transition</code></a> –≤ CSS –∫–∞–∫ —Ç–µ–∫—É—â–µ–≥–æ, —Ç–∞–∫ –∏ —Ü–µ–ª–µ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="p">@</span><span class="k">view-transition</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="nt">navigation</span><span class="o">:</span><span class="w"> </span><span class="nt">auto</span><span class="o">;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–ù–∞—à–µ <a href="https://mdn.github.io/dom-examples/view-transitions/mpa/">–¥–µ–º–æ View Transitions MPA</a> –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–æ at-–ø—Ä–∞–≤–∏–ª–æ –≤ –¥–µ–π—Å—Ç–≤–∏–∏, –∞ —Ç–∞–∫–∂–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ <a href="#customizing_your_animations">–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Å—Ö–æ–¥—è—â—É—é –∏ –≤—Ö–æ–¥—è—â—É—é –∞–Ω–∏–º–∞—Ü–∏–∏</a> –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.</p> <div class="admonition note"> <p class="admonition-title">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ same-origin</p> <p>–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è MPA-–ø–µ—Ä–µ—Ö–æ–¥—ã –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —Å –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –Ω–æ —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–ª–∞–±–ª–µ–Ω–æ –≤ –±—É–¥—É—â–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö.</p> </div> <h2 id="customizing_your_animations">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π<a class="headerlink" href="#customizing_your_animations" title="Permanent link">¬∂</a></h2> <p>–ü—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã View Transitions –∏–º–µ—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Animations">CSS-–∞–Ω–∏–º–∞—Ü–∏–∏</a>, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API#pseudo-elements">—Å–ø—Ä–∞–≤–æ—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö</a>).</p> <p>–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –∑–∞–¥–∞—ë—Ç—Å—è –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–≥–æ –∑–∞—Ç—É—Ö–∞–Ω–∏—è, –∫–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤—ã—à–µ. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:</p> <ul> <li>–ü–µ—Ä–µ—Ö–æ–¥—ã <code>height</code> –∏ <code>width</code> –ø–æ–ª—É—á–∞—é—Ç –ø–ª–∞–≤–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.</li> <li>–ü–µ—Ä–µ—Ö–æ–¥—ã <code>position</code> –∏ <code>transform</code> –ø–æ–ª—É—á–∞—é—Ç –ø–ª–∞–≤–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è.</li> </ul> <p>–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º —Å –ø–æ–º–æ—â—å—é –æ–±—ã—á–Ω–æ–≥–æ CSS ‚Äî –Ω–∞—Ü–µ–ª–∏–≤–∞–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é ¬´–∏–∑¬ª —Å –ø–æ–º–æ—â—å—é <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-old"><code>::view-transition-old()</code></a>, –∞ –∞–Ω–∏–º–∞—Ü–∏—é ¬´–≤¬ª ‚Äî —Å –ø–æ–º–æ—â—å—é <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Selectors/::view-transition-new"><code>::view-transition-new()</code></a>.</p> <p>–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±–µ–∏—Ö:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="p">::</span><span class="nd">view-transition-old</span><span class="o">(</span><span class="nt">root</span><span class="o">),</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="p">::</span><span class="nd">view-transition-new</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="k">animation-duration</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="kt">s</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Ü–µ–ª–∏–≤–∞—Ç—å <code>::view-transition-group()</code> —Å —Ç–∞–∫–∏–º–∏ —Å—Ç–∏–ª—è–º–∏ –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö –∫ <code>::view-transition-old()</code> –∏ <code>::view-transition-new()</code>. –ò–∑-–∑–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π user-agent —Å—Ç–∏–ª–∏ –±—É–¥—É—Ç —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω—ã –æ–±–æ–∏–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="p">::</span><span class="nd">view-transition-group</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="k">animation-duration</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="kt">s</span><span class="p">;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <div class="admonition note"> <p class="admonition-title">–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π</p> <p>–≠—Ç–æ —Ç–∞–∫–∂–µ —Ö–æ—Ä–æ—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ ‚Äî <code>::view-transition-group()</code> —Ç–æ–∂–µ –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ <code>group</code>/<code>image-pair</code> –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ <code>old</code> –∏ <code>new</code>.</p> </div> <p>–í —Å–ª—É—á–∞–µ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö (MPA) –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ —Ü–µ–ª–µ–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö, –≤–∞–º –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∏—Ö –≤ –æ–±–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞.</p> <p>–ù–∞—à–µ <a href="https://mdn.github.io/dom-examples/view-transitions/mpa/">–¥–µ–º–æ View Transitions MPA</a> –≤–∫–ª—é—á–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—ã—à–µ CSS, –Ω–æ –∏–¥—ë—Ç –¥–∞–ª—å—à–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –æ–ø—Ä–µ–¥–µ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω—è—è –∏—Ö –∫ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞–º <code>::view-transition-old(root)</code> –∏ <code>::view-transition-new(root)</code>. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–≥–æ –∑–∞—Ç—É—Ö–∞–Ω–∏—è –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥ ¬´—Å–¥–≤–∏–≥ –≤–≤–µ—Ä—Ö¬ª –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span>
<span class="normal"><a href="#__codelineno-6-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c">/* –°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∞–Ω–∏–º–∞—Ü–∏—é */</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">move-out</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="nt">from</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">0</span><span class="kt">%</span><span class="p">);</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">    </span><span class="nt">to</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">-100</span><span class="kt">%</span><span class="p">);</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="p">}</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12"></a>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">move-in</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="nt">from</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">100</span><span class="kt">%</span><span class="p">);</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17"></a>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">    </span><span class="nt">to</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">0</span><span class="kt">%</span><span class="p">);</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="p">}</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22"></a>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="c">/* –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∫ —Å—Ç–∞—Ä–æ–º—É –∏ –Ω–æ–≤–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã */</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24"></a>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="p">::</span><span class="nd">view-transition-old</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="kt">s</span><span class="w"> </span><span class="kc">ease-in</span><span class="w"> </span><span class="kc">both</span><span class="w"> </span><span class="kc">move</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="p">}</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28"></a>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="p">::</span><span class="nd">view-transition-new</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="kt">s</span><span class="w"> </span><span class="kc">ease-in</span><span class="w"> </span><span class="kc">both</span><span class="w"> </span><span class="kc">move</span><span class="o">-</span><span class="n">in</span><span class="p">;</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <h2 id="different_animations_for_different_elements">–†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤<a class="headerlink" href="#different_animations_for_different_elements" title="Permanent link">¬∂</a></h2> <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥—è—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –∞–Ω–∏–º–∞—Ü–∏–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∞–Ω–∏–º–∏—Ä–æ–≤–∞–ª–∏—Å—å –∏–Ω–∞—á–µ, —á–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è <code>root</code>, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–¥–µ–ª–∏—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Properties/view-transition-name"><code>view-transition-name</code></a>. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –Ω–∞—à–µ–º <a href="https://mdn.github.io/dom-examples/view-transitions/spa/">–¥–µ–º–æ View Transitions SPA</a> —ç–ª–µ–º–µ–Ω—Ç–∞–º <a href="https://hcdev.ru/html/figcaption"><code>figcaption</code></a> –∑–∞–¥–∞—ë—Ç—Å—è <code>view-transition-name</code> —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º <code>figure-caption</code>, —á—Ç–æ–±—ã –æ—Ç–¥–µ–ª–∏—Ç—å –∏—Ö –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–ª–∞–Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nt">figcaption</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">view-transition-name</span><span class="p">:</span><span class="w"> </span><span class="n">figure-caption</span><span class="p">;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–° –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —ç—Ç–æ–≥–æ CSS —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p> <div class="language-text highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span>
<span class="normal"><a href="#__codelineno-8-6">6</a></span>
<span class="normal"><a href="#__codelineno-8-7">7</a></span>
<span class="normal"><a href="#__codelineno-8-8">8</a></span>
<span class="normal"><a href="#__codelineno-8-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a>::view-transition
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a>‚îú‚îÄ ::view-transition-group(root)
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a>‚îÇ ‚îî‚îÄ ::view-transition-image-pair(root)
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a>‚îÇ     ‚îú‚îÄ ::view-transition-old(root)
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a>‚îÇ     ‚îî‚îÄ ::view-transition-new(root)
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6"></a>‚îî‚îÄ ::view-transition-group(figure-caption)
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7"></a>  ‚îî‚îÄ ::view-transition-image-pair(figure-caption)
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8"></a>      ‚îú‚îÄ ::view-transition-old(figure-caption)
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9"></a>      ‚îî‚îÄ ::view-transition-new(figure-caption)
</span></code></pre></div></td></tr></tbody></table></div> <p>–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∫ <code>&lt;figcaption&gt;</code>. –†–∞–∑–Ω—ã–µ –∑–∞—Ö–≤–∞—Ç—ã —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.</p> <p>–°–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∞–Ω–∏–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –∫ <code>&lt;figcaption&gt;</code>:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span>
<span class="normal"><a href="#__codelineno-9-22">22</a></span>
<span class="normal"><a href="#__codelineno-9-23">23</a></span>
<span class="normal"><a href="#__codelineno-9-24">24</a></span>
<span class="normal"><a href="#__codelineno-9-25">25</a></span>
<span class="normal"><a href="#__codelineno-9-26">26</a></span>
<span class="normal"><a href="#__codelineno-9-27">27</a></span>
<span class="normal"><a href="#__codelineno-9-28">28</a></span>
<span class="normal"><a href="#__codelineno-9-29">29</a></span>
<span class="normal"><a href="#__codelineno-9-30">30</a></span>
<span class="normal"><a href="#__codelineno-9-31">31</a></span>
<span class="normal"><a href="#__codelineno-9-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">grow-x</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="nt">from</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scaleX</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="nt">to</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scaleX</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="p">}</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">shrink-x</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">    </span><span class="nt">from</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scaleX</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">    </span><span class="nt">to</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scaleX</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="p">}</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18"></a>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="p">::</span><span class="nd">view-transition-group</span><span class="o">(</span><span class="nt">figure-caption</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21"></a><span class="w">    </span><span class="k">right</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="w">    </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="w">    </span><span class="k">transform-origin</span><span class="p">:</span><span class="w"> </span><span class="kc">right</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24"></a><span class="p">}</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25"></a>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26"></a><span class="p">::</span><span class="nd">view-transition-old</span><span class="o">(</span><span class="nt">figure-caption</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27"></a><span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="kt">s</span><span class="w"> </span><span class="kc">linear</span><span class="w"> </span><span class="kc">both</span><span class="w"> </span><span class="n">shrink-x</span><span class="p">;</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28"></a><span class="p">}</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29"></a>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30"></a><span class="p">::</span><span class="nd">view-transition-new</span><span class="o">(</span><span class="nt">figure-caption</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31"></a><span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="kt">s</span><span class="w"> </span><span class="mf">0.25</span><span class="kt">s</span><span class="w"> </span><span class="kc">linear</span><span class="w"> </span><span class="kc">both</span><span class="w"> </span><span class="n">grow-x</span><span class="p">;</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–ó–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é CSS-–∞–Ω–∏–º–∞—Ü–∏—é –∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –µ—ë –∫ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞–º <code>::view-transition-old(figure-caption)</code> –∏ <code>::view-transition-new(figure-caption)</code>. –ú—ã —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–ª–∏ —Ä—è–¥ –¥—Ä—É–≥–∏—Ö —Å—Ç–∏–ª–µ–π –∫ –æ–±–æ–∏–º, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –Ω–∞ –º–µ—Å—Ç–µ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –Ω–∞ –Ω–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏.</p> <div class="admonition note"> <p class="admonition-title">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä</p> <p>–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>*</code> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –≤ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–µ –¥–ª—è –Ω–∞—Ü–µ–ª–∏–≤–∞–Ω–∏—è –Ω–∞ –≤—Å–µ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç—ã —Å–Ω–∏–º–∫–æ–≤, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Ö –∏–º–µ–Ω–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="p">::</span><span class="nd">view-transition-group</span><span class="o">(*)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="k">animation-duration</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="kt">s</span><span class="p">;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> </div> <h3 id="view-transition-name">–î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è <code>view-transition-name</code><a class="headerlink" href="#view-transition-name" title="Permanent link">¬∂</a></h3> <p>–°–≤–æ–π—Å—Ç–≤–æ <code>view-transition-name</code> –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/custom-ident"><code>custom-ident</code></a>, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –±—É–¥–µ—Ç –æ—à–∏–±–æ—á–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ. –ó–Ω–∞—á–µ–Ω–∏–µ <code>view-transition-name</code> –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –ï—Å–ª–∏ –¥–≤–∞ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π <code>view-transition-name</code> –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/ready"><code>ViewTransition.ready</code></a> –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω –∏ –ø–µ—Ä–µ—Ö–æ–¥ –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω.</p> <p>–¢–∞–∫–∂–µ –¥–æ–ø—É—Å—Ç–∏–º—ã –∫–ª—é—á–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:</p> <ul> <li><code>none</code>: –≠–ª–µ–º–µ–Ω—Ç –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–Ω–∏–º–∫–µ, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —É –Ω–µ–≥–æ –Ω–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º <code>view-transition-name</code>, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–Ω –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω –∫–∞–∫ —á–∞—Å—Ç—å —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.</li> <li><code>match-element</code>: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è <code>view-transition-name</code> –Ω–∞ –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö.</li> </ul> <h3 id="_5">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏<a class="headerlink" href="#_5" title="Permanent link">¬∂</a></h3> <p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã —Ç–∞–∫–∂–µ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—â–µ –∏ –¥–∞—ë—Ç –±–æ–ª–µ–µ –∫—Ä–∞—Å–∏–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á–µ–º –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–π –≤—ã—à–µ. –ù–∞—à –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è <code>&lt;figcaption&gt;</code> –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="nt">figcaption</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="n">view-transition-name</span><span class="p">:</span><span class="w"> </span><span class="n">figure-caption</span><span class="p">;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="p">}</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="p">::</span><span class="nd">view-transition-group</span><span class="o">(</span><span class="nt">figure-caption</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>::view-transition-group()</code> –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç <code>width</code> –∏ <code>height</code> –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –Ω–æ–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ —Å –ø–ª–∞–≤–Ω—ã–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ù–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é <code>height</code> –¥–ª—è –æ–±–æ–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, —á—Ç–æ–±—ã —ç—Ç–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ.</p> <div class="admonition note"> <p class="admonition-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã</p> <p><a href="https://developer.chrome.com/docs/web-platform/view-transitions/">–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å View Transition API</a> —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.</p> </div> <h2 id="controlling_view_transitions_with_javascript">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Å –ø–æ–º–æ—â—å—é JavaScript<a class="headerlink" href="#controlling_view_transitions_with_javascript" title="Permanent link">¬∂</a></h2> <p>–ü–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–º–µ–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition"><code>ViewTransition</code></a>, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–ª–µ–Ω–æ–≤-–ø—Ä–æ–º–∏—Å–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –≤—ã–ø–æ–ª–Ω—è—Ç—å JavaScript –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–µ—Ä–µ—Ö–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/ready"><code>ViewTransition.ready</code></a> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –¥–µ—Ä–µ–≤–æ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ –∏ –∞–Ω–∏–º–∞—Ü–∏—è –≤–æ—Ç-–≤–æ—Ç –Ω–∞—á–Ω—ë—Ç—Å—è, —Ç–æ–≥–¥–∞ –∫–∞–∫ <a href="https://developer.mozilla.org/en-US/docs/Web/API/ViewTransition/finished"><code>ViewTransition.finished</code></a> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –Ω–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∏–¥–∏–º–æ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p> <p>–î–æ—Å—Ç—É–ø –∫ <code>ViewTransition</code> –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:</p> <ol> <li> <p>–ß–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ {{domxref("Document.activeViewTransition")}}. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫—Ç–∏–≤–Ω–æ–º—É –ø–µ—Ä–µ—Ö–æ–¥—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –ª—é–±–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ–≥–æ –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–∑–∂–µ.</p> </li> <li> <p>–í —Å–ª—É—á–∞–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –º–µ—Ç–æ–¥ {{domxref("Document.startViewTransition()", "document.startViewTransition()")}} –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>ViewTransition</code>, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º.</p> </li> <li> <p>–í —Å–ª—É—á–∞–µ –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö (MPA) –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:</p> <ul> <li>–°–æ–±—ã—Ç–∏–µ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pageswap_event"><code>pageswap</code></a> —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤–æ—Ç-–≤–æ—Ç –±—É–¥–µ—Ç –≤—ã–≥—Ä—É–∂–µ–Ω –∏–∑-–∑–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. –ï–≥–æ –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è (<a href="https://developer.mozilla.org/en-US/docs/Web/API/PageSwapEvent"><code>PageSwapEvent</code></a>) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ <code>ViewTransition</code> —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ <a href="https://developer.mozilla.org/en-US/docs/Web/API/PageSwapEvent/viewTransition"><code>PageSwapEvent.viewTransition</code></a>, –∞ —Ç–∞–∫–∂–µ –∫ <a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationActivation"><code>NavigationActivation</code></a> —á–µ—Ä–µ–∑ <a href="https://developer.mozilla.org/en-US/docs/Web/API/PageSwapEvent/activation"><code>PageSwapEvent.activation</code></a>, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º—É —Ç–∏–ø –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –∏ —Ü–µ–ª–µ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.</li> </ul> <div class="admonition note"> <p class="admonition-title">Cross-origin —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã</p> <p>–ï—Å–ª–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–º–µ–µ—Ç URL —Å –¥—Ä—É–≥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Ü–µ–ø–æ—á–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π, —Å–≤–æ–π—Å—Ç–≤–æ <code>activation</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>null</code>.</p> </div> <ul> <li>–°–æ–±—ã—Ç–∏–µ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pagereveal_event"><code>pagereveal</code></a> —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –±—É–¥—å —Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–≤–µ–∂–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–∑ —Å–µ—Ç–∏ –∏–ª–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ª–∏–±–æ –∏–∑ <a href="https://developer.mozilla.org/en-US/docs/Glossary/bfcache">–∫—ç—à–∞ back/forward</a> (bfcache), –ª–∏–±–æ –ø—Ä–∏ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Prerender">–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ</a>). –ï–≥–æ –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è (<a href="https://developer.mozilla.org/en-US/docs/Web/API/PageRevealEvent"><code>PageRevealEvent</code></a>) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ <code>ViewTransition</code> —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ <a href="https://developer.mozilla.org/en-US/docs/Web/API/PageRevealEvent/viewTransition"><code>PageRevealEvent.viewTransition</code></a>.</li> </ul> </li> </ol> <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏—Ö, –∫–∞–∫ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.</p> <h3 id="spa-javascript">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (SPA) –Ω–∞ JavaScript<a class="headerlink" href="#spa-javascript" title="Permanent link">¬∂</a></h3> <p>–°–ª–µ–¥—É—é—â–∏–π JavaScript –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä—É–≥–æ–≤–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–≥–æ—Å—è –æ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∫–ª–∏–∫–µ, —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API"><code>Web Animations API</code></a>.</p> <div class="language-js highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span>
<span class="normal"><a href="#__codelineno-12-26">26</a></span>
<span class="normal"><a href="#__codelineno-12-27">27</a></span>
<span class="normal"><a href="#__codelineno-12-28">28</a></span>
<span class="normal"><a href="#__codelineno-12-29">29</a></span>
<span class="normal"><a href="#__codelineno-12-30">30</a></span>
<span class="normal"><a href="#__codelineno-12-31">31</a></span>
<span class="normal"><a href="#__codelineno-12-32">32</a></span>
<span class="normal"><a href="#__codelineno-12-33">33</a></span>
<span class="normal"><a href="#__codelineno-12-34">34</a></span>
<span class="normal"><a href="#__codelineno-12-35">35</a></span>
<span class="normal"><a href="#__codelineno-12-36">36</a></span>
<span class="normal"><a href="#__codelineno-12-37">37</a></span>
<span class="normal"><a href="#__codelineno-12-38">38</a></span>
<span class="normal"><a href="#__codelineno-12-39">39</a></span>
<span class="normal"><a href="#__codelineno-12-40">40</a></span>
<span class="normal"><a href="#__codelineno-12-41">41</a></span>
<span class="normal"><a href="#__codelineno-12-42">42</a></span>
<span class="normal"><a href="#__codelineno-12-43">43</a></span>
<span class="normal"><a href="#__codelineno-12-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1">// –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="kd">let</span><span class="w"> </span><span class="nx">lastClick</span><span class="p">;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nx">lastClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">));</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="kd">function</span><span class="w"> </span><span class="nx">spaNavigate</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="c1">// –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö —ç—Ç–æ—Ç API:</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">startViewTransition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">        </span><span class="nx">updateTheDOMSomehow</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11"></a>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">    </span><span class="c1">// –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –∫–ª–∏–∫–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastClick</span><span class="o">?</span><span class="p">.</span><span class="nx">clientX</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="nx">innerWidth</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastClick</span><span class="o">?</span><span class="p">.</span><span class="nx">clientY</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="nx">innerHeight</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="w">    </span><span class="c1">// –ü–æ–ª—É—á–∞–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å–∞–º–æ–≥–æ –¥–∞–ª—å–Ω–µ–≥–æ —É–≥–ª–∞</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">endRadius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">hypot</span><span class="p">(</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="w">        </span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">innerWidth</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">x</span><span class="p">),</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18"></a><span class="w">        </span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span><span class="w"> </span><span class="nx">innerHeight</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">y</span><span class="p">),</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20"></a>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="w">    </span><span class="c1">// –°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ—Ö–æ–¥:</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">startViewTransition</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23"></a><span class="w">        </span><span class="nx">updateTheDOMSomehow</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25"></a>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26"></a><span class="w">    </span><span class="c1">// –ñ–¥—ë–º —Å–æ–∑–¥–∞–Ω–∏—è –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤:</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27"></a><span class="w">    </span><span class="nx">transition</span><span class="p">.</span><span class="nx">ready</span><span class="p">.</span><span class="nx">then</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28"></a><span class="w">        </span><span class="c1">// –ê–Ω–∏–º–∏—Ä—É–µ–º –Ω–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29"></a><span class="w">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31"></a><span class="w">                </span><span class="nx">clipPath</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="w">                    </span><span class="sb">`circle(0 at </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">px </span><span class="si">${</span><span class="nx">y</span><span class="si">}</span><span class="sb">px)`</span><span class="p">,</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33"></a><span class="w">                    </span><span class="sb">`circle(</span><span class="si">${</span><span class="nx">endRadius</span><span class="si">}</span><span class="sb">px at </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">px </span><span class="si">${</span><span class="nx">y</span><span class="si">}</span><span class="sb">px)`</span><span class="p">,</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34"></a><span class="w">                </span><span class="p">],</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37"></a><span class="w">                </span><span class="nx">duration</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span><span class="p">,</span>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38"></a><span class="w">                </span><span class="nx">easing</span><span class="o">:</span><span class="w"> </span><span class="s1">'ease-in'</span><span class="p">,</span>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39"></a><span class="w">                </span><span class="c1">// –£–∫–∞–∑—ã–≤–∞–µ–º, –∫–∞–∫–æ–π –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40"></a><span class="w">                </span><span class="nx">pseudoElement</span><span class="o">:</span><span class="w"> </span><span class="s1">'::view-transition-new(root)'</span><span class="p">,</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42"></a><span class="w">        </span><span class="p">);</span>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–≠—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏—è —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ CSS, —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é CSS-–∞–Ω–∏–º–∞—Ü–∏—é –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–º–µ—à–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (–Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–≤—ã—Ç–∏—Ä–∞–µ—Ç¬ª –ø—Ä—è–º–æ –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞—Ä–æ–≥–æ, –∞ –Ω–µ –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç):</p> <div class="language-css highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="p">::</span><span class="nd">view-transition-image-pair</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="k">isolation</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="p">}</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="p">::</span><span class="nd">view-transition-old</span><span class="o">(</span><span class="nt">root</span><span class="o">),</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="p">::</span><span class="nd">view-transition-new</span><span class="o">(</span><span class="nt">root</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="k">mix-blend-mode</span><span class="p">:</span><span class="w"> </span><span class="kc">normal</span><span class="p">;</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></tbody></table></div> <h3 id="mpa-javascript">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (MPA) –Ω–∞ JavaScript<a class="headerlink" href="#mpa-javascript" title="Permanent link">¬∂</a></h3> <p><a href="https://view-transitions.chrome.dev/profiles/mpa/">–î–µ–º–æ —Å–æ —Å–ø–∏—Å–∫–æ–º —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã Chrome DevRel</a> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ—Ñ–∏–ª–µ–π –∫–æ–º–∞–Ω–¥—ã –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pageswap_event"><code>pageswap</code></a> –∏ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pagereveal_event"><code>pagereveal</code></a> –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ö–æ–¥—è—â–µ–π –∏ –≤—Ö–æ–¥—è—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–π –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ URL-–∞–¥—Ä–µ—Å–æ–≤ ¬´–æ—Ç–∫—É–¥–∞¬ª –∏ ¬´–∫—É–¥–∞¬ª.</p> <p>–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pageswap_event"><code>pageswap</code></a> –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –û–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º–µ–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏—Å—Ö–æ–¥—è—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–¥—É—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª–µ–π. –ü—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è <em>—Ç–æ–ª—å–∫–æ</em> –¥–ª—è –Ω–∞–∂–∞—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Å—ã–ª–∫–∏ –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ.</p> <div class="language-js highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span>
<span class="normal"><a href="#__codelineno-14-36">36</a></span>
<span class="normal"><a href="#__codelineno-14-37">37</a></span>
<span class="normal"><a href="#__codelineno-14-38">38</a></span>
<span class="normal"><a href="#__codelineno-14-39">39</a></span>
<span class="normal"><a href="#__codelineno-14-40">40</a></span>
<span class="normal"><a href="#__codelineno-14-41">41</a></span>
<span class="normal"><a href="#__codelineno-14-42">42</a></span>
<span class="normal"><a href="#__codelineno-14-43">43</a></span>
<span class="normal"><a href="#__codelineno-14-44">44</a></span>
<span class="normal"><a href="#__codelineno-14-45">45</a></span>
<span class="normal"><a href="#__codelineno-14-46">46</a></span>
<span class="normal"><a href="#__codelineno-14-47">47</a></span>
<span class="normal"><a href="#__codelineno-14-48">48</a></span>
<span class="normal"><a href="#__codelineno-14-49">49</a></span>
<span class="normal"><a href="#__codelineno-14-50">50</a></span>
<span class="normal"><a href="#__codelineno-14-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'pageswap'</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="c1">// –í—ã–ø–æ–ª–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">currentUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="kr">from</span><span class="o">?</span><span class="p">.</span><span class="nx">url</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="kr">from</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="w">        </span><span class="c1">// –ü–µ—Ä–µ—Ö–æ–¥ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">        </span><span class="c1">// ~&gt; –ë–æ–ª—å—à–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Äî –Ω–∞—à–∏ —Ü–µ–ª–∏!</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isProfilePage</span><span class="p">(</span><span class="nx">currentUrl</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">isHomePage</span><span class="p">(</span><span class="nx">targetUrl</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">            </span><span class="c1">// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è view-transition-name –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#detail main h1`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">                </span><span class="s1">'name'</span><span class="p">;</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">                </span><span class="sb">`#detail main img`</span><span class="p">,</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'avatar'</span><span class="p">;</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18"></a>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">            </span><span class="c1">// –£–¥–∞–ª—è–µ–º view-transition-names –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–Ω–∏–º–∫–æ–≤</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">            </span><span class="c1">// –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω –∏–∑-–∑–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ BFCache</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">            </span><span class="k">await</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">.</span><span class="nx">finished</span><span class="p">;</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#detail main h1`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">                </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="w">                </span><span class="sb">`#detail main img`</span><span class="p">,</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28"></a>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="w">        </span><span class="c1">// –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30"></a><span class="w">        </span><span class="c1">// ~&gt; –ù–∞–∂–∞—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî –Ω–∞—à–∏ —Ü–µ–ª–∏!</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isProfilePage</span><span class="p">(</span><span class="nx">targetUrl</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32"></a><span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">extractProfileNameFromUrl</span><span class="p">(</span><span class="nx">targetUrl</span><span class="p">);</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33"></a>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34"></a><span class="w">            </span><span class="c1">// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è view-transition-name –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36"></a><span class="w">                </span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> span`</span><span class="p">,</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'name'</span><span class="p">;</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> img`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39"></a><span class="w">                </span><span class="s1">'avatar'</span><span class="p">;</span>
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40"></a>
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41"></a><span class="w">            </span><span class="c1">// –£–¥–∞–ª—è–µ–º view-transition-names –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–Ω–∏–º–∫–æ–≤</span>
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42"></a><span class="w">            </span><span class="c1">// –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω –∏–∑-–∑–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ BFCache</span>
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43"></a><span class="w">            </span><span class="k">await</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">.</span><span class="nx">finished</span><span class="p">;</span>
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45"></a><span class="w">                </span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> span`</span><span class="p">,</span>
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> img`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48"></a><span class="w">                </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51"></a><span class="p">});</span>
</span></code></pre></div></td></tr></tbody></table></div> <div class="admonition note"> <p class="admonition-title">–û—á–∏—Å—Ç–∫–∞ –∏–º—ë–Ω</p> <p>–ú—ã —É–¥–∞–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è <code>view-transition-name</code> –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–Ω–∏–º–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ. –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏, –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º –≤ <a href="https://developer.mozilla.org/en-US/docs/Glossary/bfcache">bfcache</a> –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. –ï—Å–ª–∏ –∑–∞—Ç–µ–º –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É ¬´–ù–∞–∑–∞–¥¬ª, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è <code>pagereveal</code> —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è, –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è <code>view-transition-name</code> –Ω–∞ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π <code>view-transition-name</code>, –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.</p> </div> <p>–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/pagereveal_event"><code>pagereveal</code></a> –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É —Å–æ–±—ã—Ç–∏—è <code>pageswap</code>, –Ω–æ –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∑–¥–µ—Å—å –º—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é ¬´–≤¬ª –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</p> <div class="language-js highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span>
<span class="normal"><a href="#__codelineno-15-11">11</a></span>
<span class="normal"><a href="#__codelineno-15-12">12</a></span>
<span class="normal"><a href="#__codelineno-15-13">13</a></span>
<span class="normal"><a href="#__codelineno-15-14">14</a></span>
<span class="normal"><a href="#__codelineno-15-15">15</a></span>
<span class="normal"><a href="#__codelineno-15-16">16</a></span>
<span class="normal"><a href="#__codelineno-15-17">17</a></span>
<span class="normal"><a href="#__codelineno-15-18">18</a></span>
<span class="normal"><a href="#__codelineno-15-19">19</a></span>
<span class="normal"><a href="#__codelineno-15-20">20</a></span>
<span class="normal"><a href="#__codelineno-15-21">21</a></span>
<span class="normal"><a href="#__codelineno-15-22">22</a></span>
<span class="normal"><a href="#__codelineno-15-23">23</a></span>
<span class="normal"><a href="#__codelineno-15-24">24</a></span>
<span class="normal"><a href="#__codelineno-15-25">25</a></span>
<span class="normal"><a href="#__codelineno-15-26">26</a></span>
<span class="normal"><a href="#__codelineno-15-27">27</a></span>
<span class="normal"><a href="#__codelineno-15-28">28</a></span>
<span class="normal"><a href="#__codelineno-15-29">29</a></span>
<span class="normal"><a href="#__codelineno-15-30">30</a></span>
<span class="normal"><a href="#__codelineno-15-31">31</a></span>
<span class="normal"><a href="#__codelineno-15-32">32</a></span>
<span class="normal"><a href="#__codelineno-15-33">33</a></span>
<span class="normal"><a href="#__codelineno-15-34">34</a></span>
<span class="normal"><a href="#__codelineno-15-35">35</a></span>
<span class="normal"><a href="#__codelineno-15-36">36</a></span>
<span class="normal"><a href="#__codelineno-15-37">37</a></span>
<span class="normal"><a href="#__codelineno-15-38">38</a></span>
<span class="normal"><a href="#__codelineno-15-39">39</a></span>
<span class="normal"><a href="#__codelineno-15-40">40</a></span>
<span class="normal"><a href="#__codelineno-15-41">41</a></span>
<span class="normal"><a href="#__codelineno-15-42">42</a></span>
<span class="normal"><a href="#__codelineno-15-43">43</a></span>
<span class="normal"><a href="#__codelineno-15-44">44</a></span>
<span class="normal"><a href="#__codelineno-15-45">45</a></span>
<span class="normal"><a href="#__codelineno-15-46">46</a></span>
<span class="normal"><a href="#__codelineno-15-47">47</a></span>
<span class="normal"><a href="#__codelineno-15-48">48</a></span>
<span class="normal"><a href="#__codelineno-15-49">49</a></span>
<span class="normal"><a href="#__codelineno-15-50">50</a></span>
<span class="normal"><a href="#__codelineno-15-51">51</a></span>
<span class="normal"><a href="#__codelineno-15-52">52</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'pagereveal'</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">    </span><span class="c1">// –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ ¬´–æ—Ç–∫—É–¥–∞¬ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—ã—Ö–æ–¥–∏–º</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="kr">from</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="w">    </span><span class="c1">// –í—ã–ø–æ–ª–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">fromUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="kr">from</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">currentUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">activation</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10"></a><span class="w">        </span><span class="c1">// –ü–µ—Ä–µ—à–ª–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11"></a><span class="w">        </span><span class="c1">// ~&gt; –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º VT-–∏–º–µ–Ω–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ —Å–ø–∏—Å–∫–∞</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isProfilePage</span><span class="p">(</span><span class="nx">fromUrl</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">isHomePage</span><span class="p">(</span><span class="nx">currentUrl</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13"></a><span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">extractProfileNameFromUrl</span><span class="p">(</span><span class="nx">fromUrl</span><span class="p">);</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14"></a>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15"></a><span class="w">            </span><span class="c1">// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è view-transition-name –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17"></a><span class="w">                </span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> span`</span><span class="p">,</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'name'</span><span class="p">;</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> img`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20"></a><span class="w">                </span><span class="s1">'avatar'</span><span class="p">;</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21"></a>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22"></a><span class="w">            </span><span class="c1">// –£–¥–∞–ª—è–µ–º –∏–º–µ–Ω–∞ –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–Ω–∏–º–∫–æ–≤,</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23"></a><span class="w">            </span><span class="c1">// —á—Ç–æ–±—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24"></a><span class="w">            </span><span class="k">await</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">.</span><span class="nx">ready</span><span class="p">;</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26"></a><span class="w">                </span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> span`</span><span class="p">,</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#</span><span class="si">${</span><span class="nx">profile</span><span class="si">}</span><span class="sb"> img`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29"></a><span class="w">                </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31"></a>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32"></a><span class="w">        </span><span class="c1">// –ü–µ—Ä–µ—à–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è</span>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33"></a><span class="w">        </span><span class="c1">// ~&gt; –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º VT-–∏–º–µ–Ω–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏</span>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">isProfilePage</span><span class="p">(</span><span class="nx">currentUrl</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35"></a><span class="w">            </span><span class="c1">// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è view-transition-name –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏</span>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#detail main h1`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37"></a><span class="w">                </span><span class="s1">'name'</span><span class="p">;</span>
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39"></a><span class="w">                </span><span class="sb">`#detail main img`</span><span class="p">,</span>
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'avatar'</span><span class="p">;</span>
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41"></a>
</span><span id="__span-15-42"><a id="__codelineno-15-42" name="__codelineno-15-42"></a><span class="w">            </span><span class="c1">// –£–¥–∞–ª—è–µ–º –∏–º–µ–Ω–∞ –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–Ω–∏–º–∫–æ–≤,</span>
</span><span id="__span-15-43"><a id="__codelineno-15-43" name="__codelineno-15-43"></a><span class="w">            </span><span class="c1">// —á—Ç–æ–±—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</span>
</span><span id="__span-15-44"><a id="__codelineno-15-44" name="__codelineno-15-44"></a><span class="w">            </span><span class="k">await</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">viewTransition</span><span class="p">.</span><span class="nx">ready</span><span class="p">;</span>
</span><span id="__span-15-45"><a id="__codelineno-15-45" name="__codelineno-15-45"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="sb">`#detail main h1`</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span>
</span><span id="__span-15-46"><a id="__codelineno-15-46" name="__codelineno-15-46"></a><span class="w">                </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-15-47"><a id="__codelineno-15-47" name="__codelineno-15-47"></a><span class="w">            </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span>
</span><span id="__span-15-48"><a id="__codelineno-15-48" name="__codelineno-15-48"></a><span class="w">                </span><span class="sb">`#detail main img`</span><span class="p">,</span>
</span><span id="__span-15-49"><a id="__codelineno-15-49" name="__codelineno-15-49"></a><span class="w">            </span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">viewTransitionName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'none'</span><span class="p">;</span>
</span><span id="__span-15-50"><a id="__codelineno-15-50" name="__codelineno-15-50"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-15-51"><a id="__codelineno-15-51" name="__codelineno-15-51"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-15-52"><a id="__codelineno-15-52" name="__codelineno-15-52"></a><span class="p">});</span>
</span></code></pre></div></td></tr></tbody></table></div> <h2 id="_6">–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤<a class="headerlink" href="#_6" title="Permanent link">¬∂</a></h2> <p>–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –º–µ–∂—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤—ã –≤ –∏–¥–µ–∞–ª–µ —Ö–æ—Ç–∏—Ç–µ –¥–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–æ–ª–∞–≥–∞—è—Å—å –Ω–∞ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Render_blocking">–±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞</a>, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:</p> <ol> <li>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã.</li> <li>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.</li> <li>HTML, –≤–∏–¥–∏–º—ã–π –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –±—ã–ª —Ä–∞–∑–æ–±—Ä–∞–Ω, –ø–æ—ç—Ç–æ–º—É –æ–Ω –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ.</li> </ol> <p>–°—Ç–∏–ª–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç. –ò —Å–∫—Ä–∏–ø—Ç—ã, –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/script#blocking"><code>blocking="render"</code></a>.</p> <p>–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∞—à –Ω–∞—á–∞–ª—å–Ω—ã–π HTML –±—ã–ª —Ä–∞–∑–æ–±—Ä–∞–Ω –∏ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/rel#expect"><code>&lt;link rel="expect"&gt;</code></a>. –í —ç—Ç–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –≤—ã –≤–∫–ª—é—á–∞–µ—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã:</p> <ul> <li><code>rel="expect"</code> –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç <code>&lt;link&gt;</code> –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ HTML –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</li> <li><code>href="#element-id"</code> –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è ID —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.</li> <li><code>blocking="render"</code> –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ HTML.</li> </ul> <div class="admonition note"> <p class="admonition-title">–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ head</p> <p>–î–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —ç–ª–µ–º–µ–Ω—Ç—ã <code>script</code>, <code>link</code> –∏ <code>style</code> —Å <code>blocking="render"</code> –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ <code>head</code> –¥–æ–∫—É–º–µ–Ω—Ç–∞.</p> </div> <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ HTML-–¥–æ–∫—É–º–µ–Ω—Ç–∞:</p> <div class="language-html highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span>
<span class="normal"><a href="#__codelineno-16-16">16</a></span>
<span class="normal"><a href="#__codelineno-16-17">17</a></span>
<span class="normal"><a href="#__codelineno-16-18">18</a></span>
<span class="normal"><a href="#__codelineno-16-19">19</a></span>
<span class="normal"><a href="#__codelineno-16-20">20</a></span>
<span class="normal"><a href="#__codelineno-16-21">21</a></span>
<span class="normal"><a href="#__codelineno-16-22">22</a></span>
<span class="normal"><a href="#__codelineno-16-23">23</a></span>
<span class="normal"><a href="#__codelineno-16-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="cp">&lt;!doctype html&gt;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"ru"</span><span class="p">&gt;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a>        <span class="cm">&lt;!-- –≠—Ç–æ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é --&gt;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"style.css"</span> <span class="p">/&gt;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a>        <span class="cm">&lt;!-- –ü–æ–º–µ—Ç–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∫–∞–∫ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="cm">         –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è --&gt;</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">async</span> <span class="na">src</span><span class="o">=</span><span class="s">"layout.js"</span> <span class="na">blocking</span><span class="o">=</span><span class="s">"render"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a>        <span class="cm">&lt;!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º rel="expect" –∏ blocking="render", —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è,</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="cm">         —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç #lead-content –≤–∏–¥–µ–Ω –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–æ–±—Ä–∞–Ω</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="cm">         –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–∞ --&gt;</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"expect"</span> <span class="na">href</span><span class="o">=</span><span class="s">"#lead-content"</span> <span class="na">blocking</span><span class="o">=</span><span class="s">"render"</span> <span class="p">/&gt;</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15"></a>    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16"></a>    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17"></a>        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18"></a>        <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"lead-content"</span><span class="p">&gt;</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20"></a>            <span class="p">&lt;</span><span class="nt">section</span> <span class="na">id</span><span class="o">=</span><span class="s">"first-section"</span><span class="p">&gt;</span>–ü–µ—Ä–≤–∞—è —Å–µ–∫—Ü–∏—è<span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21"></a>            <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>–í—Ç–æ—Ä–∞—è —Å–µ–∫—Ü–∏—è<span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23"></a>    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></code></pre></div></td></tr></tbody></table></div> <p>–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ <code>&lt;div&gt;</code> —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –Ω–µ –±—É–¥–µ—Ç —Ä–∞–∑–æ–±—Ä–∞–Ω, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.</p> <p>–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/link#media"><code>media</code></a> –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö <code>&lt;link rel="expect"&gt;</code>. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ö–æ—Ç–µ—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–µ–Ω—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Å —É–∑–∫–∏–º —ç–∫—Ä–∞–Ω–æ–º, —á–µ–º –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Å —à–∏—Ä–æ–∫–∏–º —ç–∫—Ä–∞–Ω–æ–º. –≠—Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª ‚Äî –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ –º–µ–Ω—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, —á–µ–º –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ.</p> <p>–≠—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º HTML:</p> <div class="language-html highlight"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">&lt;</span><span class="nt">link</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a>    <span class="na">rel</span><span class="o">=</span><span class="s">"expect"</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a>    <span class="na">href</span><span class="o">=</span><span class="s">"#lead-content"</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a>    <span class="na">blocking</span><span class="o">=</span><span class="s">"render"</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a>    <span class="na">media</span><span class="o">=</span><span class="s">"screen and (width &gt; 640px)"</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="p">/&gt;</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="p">&lt;</span><span class="nt">link</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a>    <span class="na">rel</span><span class="o">=</span><span class="s">"expect"</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a>    <span class="na">href</span><span class="o">=</span><span class="s">"#first-section"</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a>    <span class="na">blocking</span><span class="o">=</span><span class="s">"render"</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a>    <span class="na">media</span><span class="o">=</span><span class="s">"screen and (width &lt;= 640px)"</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="p">/&gt;</span>
</span></code></pre></div></td></tr></tbody></table></div> <p><small>–ò—Å—Ç–æ—á–Ω–∏–∫: <a href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API/Using">https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API/Using</a></small></p></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> –ö –Ω–∞—á–∞–ª—É </button> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="–ù–∏–∂–Ω–∏–π –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª"> <a href="../view-transitions/" class="md-footer__link md-footer__link--prev" aria-label="–ù–∞–∑–∞–¥: –ü—Ä–æ—Å—Ç–æ–π –≥–∞–π–¥ –ø–æ View Transitions"> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> –ù–∞–∑–∞–¥ </span> <div class="md-ellipsis"> –ü—Ä–æ—Å—Ç–æ–π –≥–∞–π–¥ –ø–æ View Transitions </div> </div> </a> <a href="../../react/introducing-rsc-explorer/" class="md-footer__link md-footer__link--next" aria-label="–í–ø–µ—Ä–µ–¥: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º RSC Explorer"> <div class="md-footer__title"> <span class="md-footer__direction"> –í–ø–µ—Ä–µ–¥ </span> <div class="md-ellipsis"> –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º RSC Explorer </div> </div> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> (‚ò≠) 1981 </div> </div> <div class="md-social"> <a href="https://github.com/bndby" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a href="https://getmentor.dev/mentor/iuriy-bondarenko-4234" target="_blank" rel="noopener" title="GetMentor" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.487 14.887c.39 0 .706.314.706.7a.703.703 0 0 1-.706.7H5.632a.703.703 0 0 1-.707-.7c0-.386.317-.7.707-.7zm.69-2.593c.39 0 .706.315.706.7a.703.703 0 0 1-.707.7H5.648a.703.703 0 0 1-.706-.7c0-.386.316-.7.706-.7zm3.864-3.46a2.11 2.11 0 0 1 2.118-2.099 2.11 2.11 0 0 1 2.118 2.1 2.115 2.115 0 0 1-2.118 2.103 2.116 2.116 0 0 1-2.118-2.104m6.259 6.559c.1.619-.378 1.18-1.005 1.178h-6.272a1.016 1.016 0 0 1-1.005-1.178c.315-1.942 1.391-3.509 2.796-4.13a2.77 2.77 0 0 0 2.69 0c1.405.621 2.482 2.19 2.796 4.13m-8.712-4.29c-8.38 0-.147-.002-4.941-.002a.703.703 0 0 1-.707-.7c0-.386.317-.7.707-.7l4.941.001c.39 0 .707.314.706.701a.7.7 0 0 1-.706.7m-4.94-2.594a.7.7 0 0 1-.707-.7c0-.386.317-.7.707-.7h4.94c.389 0 .705.313.705.7a.703.703 0 0 1-.706.699zm7.809 10.117a.66.66 0 0 0 .66-.654h7.06v-12.6H2.824v12.599h7.059c0 .361.295.654.66.654zM24 17.972v.957c0 .605-.496 1.096-1.106 1.096H1.106c-.61 0-1.106-.49-1.106-1.096v-.957h1.413V5.357c0-.763.623-1.382 1.394-1.382h18.387c.77 0 1.394.619 1.394 1.382v12.615Z"></path></svg> </a> <a href="https://boosty.to/bndby" target="_blank" rel="noopener" title="Boosty" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M378.9 80c-27.3 0-53 13.1-69 35.2l-34.4 47.6c-4.5 6.2-11.7 9.9-19.4 9.9s-14.9-3.7-19.4-9.9l-34.4-47.6c-16-22.1-41.7-35.2-69-35.2-47 0-85.1 38.1-85.1 85.1 0 49.9 32 98.4 68.1 142.3 41.1 50 91.4 94 125.9 120.3 3.2 2.4 7.9 4.2 14 4.2s10.8-1.8 14-4.2c34.5-26.3 84.8-70.4 125.9-120.3 36.2-43.9 68.1-92.4 68.1-142.3 0-47-38.1-85.1-85.1-85.1zM271 87.1C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1c0 68.6-42.9 128.9-79.1 172.8-44.1 53.6-97.3 100.1-133.8 127.9-12.3 9.4-27.5 14.1-43.1 14.1s-30.8-4.7-43.1-14.1C176.4 438 123.2 391.5 79.1 338 42.9 294.1 0 233.7 0 165.1 0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1l15 20.7z"></path></svg> </a> <a href="https://www.linkedin.com/in/bndby/" target="_blank" rel="noopener" title="LinkedIn" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.prune", "navigation.tabs", "navigation.tracking", "navigation.top", "navigation.footer", "navigation.indexes", "navigation.path", "content.tabs.link", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script> <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" defer></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>